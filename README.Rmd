---
bibliography: ref.bib
output:
  github_document:
    df_print: kable
    fig_width: 8
    fig_height: 6
    dev: svg
---

```{r, setup, include = FALSE}
knitr::opts_chunk$set(
    collapse = TRUE, comment = "#>",
    fig.path = "man/figures/README-"
)

set.seed(2023)
options(pmt_seed = 2023)
```

# LearnNonparam

<img src="man/figures/logo.svg" alt="logo" width = "250" align="right" />

[![GPL license](https://img.shields.io/github/license/qddyy/LearnNonparam)](https://cran.r-project.org/web/licenses/GPL-2)
[![GitHub R package version](https://img.shields.io/github/r-package/v/qddyy/LearnNonparam)](https://github.com/qddyy/LearnNonparam)
[![Code size](https://img.shields.io/github/languages/code-size/qddyy/LearnNonparam.svg)](https://github.com/qddyy/LearnNonparam)
[![CodeFactor](https://www.codefactor.io/repository/github/qddyy/LearnNonparam/badge)](https://www.codefactor.io/repository/github/qddyy/LearnNonparam)
[![R CMD check](https://github.com/qddyy/LearnNonparam/workflows/R-CMD-check/badge.svg)](https://github.com/qddyy/LearnNonparam/actions)

## Overview

This package implements some of the non-parametric tests in chapters 1-5 of [@Higgins2003](#references). It depends on

- [R6](https://cran.r-project.org/package=R6) for clean OO-design
- [RcppAlgos](https://cran.r-project.org/package=RcppAlgos) for fast generation of combinations/permutations
- [ggplot2](https://cran.r-project.org/package=ggplot2) for pretty graphs

Examples in the book can be found [here](https://qddyy.github.io/LearnNonparam/articles/examples). 

## Installation

You can install the development version of this package with:

```{r, eval = FALSE}
# install.packages("remotes")
remotes::install_github("qddyy/LearnNonparam")
```

## Usage

```{r}
library(LearnNonparam)
```

- Create a test object (for example, a `Wilcoxon` object)
    ```{r, eval = FALSE}
    t <- Wilcoxon$new(alternative = "greater", type = "permu", n_permu = 1e7)
    ```

    or you can use `pmt` (**p**er**m**utation **t**est) function (*Recommended*):
    ```{r, create}
    t <- pmt("twosample.wilcoxon", alternative = "greater", type = "permu", n_permu = 1e7)
    ```

- test some data (`vector` | `data.frame` | `list`)
    ```{r, test}
    t$test(rnorm(20, mean = 1), rnorm(20, mean = 0))
    ```

- check the results
    ```{r, results, out.width = "100%"}
    t$p_value

    t$print(digits = 2)

    t$plot(binwidth = 1)
    ```

- modify some attributes and see how the results change
    ```{r, modify}
    t$type <- "approx"

    t$p_value
    ```

There is also support for chaining method calls, which means that you can do things like

```{r, eval = FALSE}
t <- pmt(...)$test(...)$print(...)$plot(...)
```

## Tips

- Use `options(pmt_seed = <seed>)` to initialize the random seed.

    (passed to `RcppAlgos` for sampling combinations/permutations)

- Use `options(pmt_progress = FALSE)` to disable the progress bar. 

    (By default, a progress bar will appear when calculating the permutation distribution if R is used interactively)

- Explore `?PermuTest` (all tests' base class) for all available methods and attributes.

- Check `pmts()` for all available tests. 
    ```{r, pmts}
    pmts()
    ```

## References